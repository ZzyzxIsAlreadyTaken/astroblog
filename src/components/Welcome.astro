---
import BlogCard from "./BlogCard.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
const latestPost = posts.sort(
  (a: any, b: any) =>
    new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf()
)[0]; // Get only the first post after sorting
---

<div id="container">
  <main class="flex flex-col h-screen">
    <h1 class="text-6xl font-bold">Welcome to my blog</h1>
    <p class="text-lg mt-10">
      I'm a software engineer and entrepreneur. I'm passionate about building
      products that make a difference. I'm also a huge fan of the web platform
      and the open web.
    </p>
    <div>
      <h2 class="text-2xl font-bold mt-10">Latest Post</h2>
      <div class="grid gap-8 md:grid-cols-2 mt-6">
        <BlogCard
          title={latestPost.data.title}
          description={latestPost.data.description}
          pubDate={latestPost.data.pubDate}
          url={`/posts/${latestPost.slug}`}
          tags={latestPost.data.tags}
        />
      </div>
    </div>

    <section></section>
  </main>
</div>
